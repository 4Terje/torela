---
layout: default
---

{{ content }}

<style>
  @import '/styles/calendar.css';
  @import '/styles/booking.css';
</style>

<div id="calendar-wrap" class="block">
  <table id="calendar" class="calendar">
    <thead class="calendar__head">
    <tr class="calendar__nav">
      <td colspan="7">
        <div id="calendar-left-btn" class="calendar__btn">
          <span class="icon-arrow-left">&lt;</span>
        </div>
        <div id="calendar-right-btn" class="calendar__btn">
          <span class="icon-arrow-right">&gt;</span>
        </div>
        <div class="calendar__head-text">
          <span id="calendar-month" class="calender-header-text-month"></span>
          <span id="calendar-year" class="calender-header-text-year"></span>
        </div>
      </td>
    </tr>
    <tr class="calendar__head-days">
    </tr>
    </thead>
    <tbody id="calendar-body" class="calendar__body"></tbody>
  </table>
</div>

<script src="/js/api.js"></script>
<script src="/js/calendar.js"></script>
<script src="/js/booking.js"></script>

<form class="booking-dialog block">
  <a class="close">Ã—</a>
  <label><b id="time"></b></label>
  <input name="date" type="hidden">
  <input name="time" type="hidden">
  <input name="until" type="hidden">
  <input name="lang" type="hidden" value="{{page.lang}}">
  <input name="childName" type="text" maxlength="64" required>
  <input name="childAge" type="number" min="0" max="100" required>
  <input name="parentName" type="text" maxlength="64" required>
  <input name="email" type="email" maxlength="64" required>
  <input name="phone" type="tel" maxlength="64" required>
  <textarea name="comments" rows="2"></textarea>
  <label><b id="services"></b></label>
  <div class="services">
  </div>
  <br>
  <label><input type="checkbox" name="terms" required> <span id="terms"></span></label>
  <button id="book"></button>
</form>

<script>
  var bookableEvents = [
      {start: '10:00', end: '13:00'},
      {start: '14:00', end: '17:00', weekendOnly: false},
      {start: '18:00', end: '21:00'}
    ]

  var calendar = new Calendar('calendar-wrap', '{{page.lang}}', bookableEvents, '2019-04-27')
  var api = new API()
  api.bookings().then(function (bookings) {calendar.setBookings(bookings)})

  var bookingDialog = new BookingDialog('.booking-dialog', api, '{{page.lang}}')

  $(document).on('click', '.event:not(.booked)', function() {
    bookingDialog.open(this.dataset)
  })
</script>
